## MessageBox

A set of modal dialog components implemented by simulating the system's message prompt box, used for message prompts, confirmation messages, and content submission.

> In terms of scenarios, the role of MessageBox is to beautify the system-built-in `alert`, `confirm`, and `prompt`. Therefore, it is suitable for displaying relatively simple content. If you need to pop up more complex content, please use Dialog.

### Message Prompt

It is triggered when the user performs an operation. This dialog box interrupts the user's operation until the user confirms and acknowledges it before it can be closed.

Calling the `MessageBox.alert` method can open the message prompt. It simulates the system's `alert` and cannot be closed by pressing ESC or clicking outside the box. In this example, it accepts two parameters, `message` and `title`.

!!!demo1!!!

### Confirmation Message

This dialog box is used when prompting the user to confirm an action they have triggered and asking whether to perform this operation.

Calling the `MessageBox.confirm` method can open the message prompt. It simulates the system's `confirm`. The MessageBox component also has a high degree of customizability. We can pass in `options` as the third parameter, which is a literal object. The `type` field indicates the message type and can be `success`, `error`, `info`, and `warning`. Invalid settings will be ignored. Note that the second parameter, `title`, must be defined as a `String` type. If it is an `Object`, it will be understood as `options`.

!!!demo2!!!

### Content Submission

It is triggered when the user performs an operation, interrupts the user's operation, and prompts the user to enter information in the dialog box.

Calling the `MessageBox.prompt` method can open the message prompt. It simulates the system's `prompt`. You can use `validate` to define a validation function, which can return `String` or `Boolean`. The returned string is equivalent to defining the `error prompt` field. Returning `false` will prompt the default error message. For more precise interaction, it is recommended to return a `String` error prompt text. In addition, you can use the `inputPlaceholder` field to define the placeholder of the input box.

Through `beforeClose`, you can customize operations, such as data submission, etc., and then let the caller decide whether to `close` the window.

!!!demo3!!!

### Using HTML Fragments

The `message` property supports passing in HTML fragments. Set the `useHtml` property to `true`, and `message` will be treated as an HTML fragment.

:::warning
Although the `message` property supports passing in HTML fragments, dynamically rendering arbitrary HTML on a website is very dangerous because it is prone to [XSS attacks](https://en.wikipedia.org/wiki/Cross-site_scripting). Therefore, when `useHtml` is turned on, please ensure that the content of `message` is trustworthy. **Never** assign user-submitted content to the `message` property.
:::

!!!demo4!!!

### Queue Display

The display form of `MessageBox` is consistent with the logic of the browser's message prompt box, and it also uses a queue display in a "first-in-first-out" mode. If there is a scenario where we need it, we provide the `MessageBox.closeAll` method to close the current pop-up window and clear the queue.

!!!demo5!!!

### Distinguishing Cancellation and Closing

In some scenarios, clicking the cancel button and clicking the close button have different meanings. By default, when the user triggers cancellation (clicking the cancel button) and triggering closing (clicking the close button or the mask layer, pressing the ESC key), the parameters of the Promise's reject callback and the `callback` callback are both 'cancel'. If the `distinguishCancelAndClose` property is set to `true`, the parameters of the above two behaviors are 'cancel' and 'close' respectively.

!!!demo6!!!

### Centered Layout

The content supports a centered layout. Set `center` to `true` to enable the centered layout.

!!!demo7!!!

### Method of Introduction

Import `MessageBox`:

```javascript
import { MessageBox } from "@joker.front/ui";
```

Then the calling methods corresponding to the above four global methods are `MessageBox`, `MessageBox.alert`, `MessageBox.confirm`, and `MessageBox.prompt` in sequence. The calling parameters are the same as those of the global methods.

### Options

| Parameter                 | Description                                                                                                                                                                                                                                   | Type                                                                                                                                                                                                                                                                                                                              | Optional Values                  | Default Value                                               |
| ------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------- | ----------------------------------------------------------- |
| title                     | The title of the MessageBox                                                                                                                                                                                                                   | string                                                                                                                                                                                                                                                                                                                            | —                                | A friendly reminder                                         |
| message                   | The message body content of the MessageBox                                                                                                                                                                                                    | string                                                                                                                                                                                                                                                                                                                            | —                                | —                                                           |
| useHtml                   | Whether to treat the `message` property as an HTML fragment                                                                                                                                                                                   | boolean                                                                                                                                                                                                                                                                                                                           | —                                | false                                                       |
| type                      | The message type, used to display the icon                                                                                                                                                                                                    | string                                                                                                                                                                                                                                                                                                                            | success / info / warning / error | —                                                           |
| iconClass                 | The class name of the custom icon, which will override `type`                                                                                                                                                                                 | string                                                                                                                                                                                                                                                                                                                            | —                                | —                                                           |
| customClass               | The custom class name of the MessageBox                                                                                                                                                                                                       | string                                                                                                                                                                                                                                                                                                                            | —                                | —                                                           |
| callback                  | If not using Promise, this parameter can be used to specify the callback after the MessageBox is closed                                                                                                                                       | function(action, instance), where the value of `action` is 'confirm', 'cancel', or 'close', and `instance` is the MessageBox instance through which you can access the properties and methods on the instance                                                                                                                     | —                                | —                                                           |
| closable                  | Whether the MessageBox displays the close button in the upper-right corner                                                                                                                                                                    | boolean                                                                                                                                                                                                                                                                                                                           | —                                | true                                                        |
| beforeClose               | The callback before the MessageBox is closed, which will pause the closing of the instance                                                                                                                                                    | function(action, instance, close), where the value of `action` is 'confirm', 'cancel', or 'close'; `instance` is the MessageBox instance through which you can access the properties and methods on the instance; `close` is used to close the MessageBox instance; the value can be read by accessing `inputValue` in `instance` | —                                | —                                                           |
| distinguishCancelAndClose | Whether to distinguish between cancellation (clicking the cancel button) and closing (clicking the close button or the mask layer, pressing the ESC key)                                                                                      | boolean                                                                                                                                                                                                                                                                                                                           | —                                | false                                                       |
| showCancelButton          | Whether to display the cancel button                                                                                                                                                                                                          | boolean                                                                                                                                                                                                                                                                                                                           | —                                | false (true when called in the `confirm` and `prompt` ways) |
| showConfirmButton         | Whether to display the confirm button                                                                                                                                                                                                         | boolean                                                                                                                                                                                                                                                                                                                           | —                                | true                                                        |
| cancelButtonText          | The text content of the cancel button                                                                                                                                                                                                         | string                                                                                                                                                                                                                                                                                                                            | —                                | Cancel                                                      |
| confirmButtonText         | The text content of the confirm button                                                                                                                                                                                                        | string                                                                                                                                                                                                                                                                                                                            | —                                | OK                                                          |
| closeOnClickModal         | Whether the MessageBox can be closed by clicking the mask                                                                                                                                                                                     | boolean                                                                                                                                                                                                                                                                                                                           | —                                | true (false when called in the `alert` way)                 |
| closeOnPressEscape        | Whether the MessageBox can be closed by pressing the ESC key                                                                                                                                                                                  | boolean                                                                                                                                                                                                                                                                                                                           | —                                | true (false when called in the `alert` way)                 |
| showInput                 | Whether to display the input box                                                                                                                                                                                                              | boolean                                                                                                                                                                                                                                                                                                                           | —                                | false (true when called in the `prompt` way)                |
| inputPlaceholder          | The placeholder of the input box                                                                                                                                                                                                              | string                                                                                                                                                                                                                                                                                                                            | —                                | —                                                           |
| validate                  | The validation function of the input box. It can return a boolean or a string. If a string is returned, the return result will be assigned to the error message, where the parameter in `validate` is the input value of the current text box | function                                                                                                                                                                                                                                                                                                                          | —                                | —                                                           |
| center                    | Whether to use a centered layout                                                                                                                                                                                                              | boolean                                                                                                                                                                                                                                                                                                                           | —                                | false                                                       |
| roundButton               | Whether to use rounded-corner buttons                                                                                                                                                                                                         | boolean                                                                                                                                                                                                                                                                                                                           | —                                | false                                                       |
| id                        | If `id` is configured, only one pop-up will appear in the same sequence at the same time                                                                                                                                                      | string                                                                                                                                                                                                                                                                                                                            | —                                | -                                                           |

### Methods

| Method Name | Description                          | Parameter     |
| ----------- | ------------------------------------ | ------------- |
| close       | Close the current message pop-up     | —             |
| setErrorMsg | Manually configure the error message | errMsg:string |
